pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
-- paddle
padx = 52
pady = 122
padw = 24
padh = 4

-- ball
ballx = 64
bally = 64
ballsize = 3
ballxdir = 5
ballydir = -3

score = 0
lives = 3

  function movepaddle()
    if btn(0) then
      padx -= 3
    elseif btn(1) then
      padx += 3
    end
  end

  function moveball()
    ballx += ballxdir
    bally += ballydir
  end

  function bounceball()
    -- left/right
    if (ballx < ballsize or ballx > 128 - ballsize) then
      ballxdir = -ballxdir
      sfx(0)
    end

    -- top
    if bally < ballsize then
      ballydir = -ballydir
      sfx(0)
    end
  end

  function bouncepaddle()
    if ballx >= padx and ballx <= padx + padw and bally >= pady - ballsize then
      ballydir = -ballydir
      sfx(1)
      score += 10
    end
  end

  function losedeadball()
    if bally > 128 - ballsize then
      if lives > 0 then
        -- next life
        sfx(2)
        bally = 24
      else
        -- game over
        sfx(3)
        ballydir = 0
        ballxdir = 0
        ballx = 64
        bally = 64
      end
      lives -= 1
    end
  end

  function _update()
    movepaddle()
    bounceball()
    bouncepaddle()
    moveball()
    losedeadball()
  end

  function _draw()
    cls(3)

    -- draw lives
    for i = 1, lives do
      spr(001, 90 + i*8, 4)
    end

    -- draw the score
    print(score, 12, 6, 15)

    -- draw game over
    if lives == -1 then
      print('Game Over', 47, 52, 15)
    end

    -- draw the paddle
    rectfill(padx, pady, padx + padw, pady + padh, 15)

    -- draw the ball
    circfill(ballx, bally, ballsize, 15)
  end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000088088000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000088888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700008880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000400003102000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000001805000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00060000270702006018050110400b040070300603000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000400000f0500f0500f0500d0500d0500d0500d0400b040090400803007020060200602006030060300704007050070500605005040020300102001010000100000000000000000000000000000000000000000
